# DID와 VC를 사용한 인증 절차는 어떻게 작동하나요

DID와 VC를 사용한 인증 절차는 자기주권 신원(Self-Sovereign Identity, SSI) 모델을 기반으로 작동합니다. 이 인증 방식은 기존의 중앙화된 인증 시스템과 달리 사용자가 자신의 신원 정보를 직접 통제할 수 있게 합니다.

## DID/VC 기반 인증 절차의 기본 흐름

### 1. 초기 설정 단계

- **DID 생성**: 사용자(홀더)는 자신의 DID와 관련 키 쌍을 생성합니다.
- **VC 발급 요청**: 사용자는 신뢰할 수 있는 발급기관(예: 정부, 대학, 기업)에 자신의 DID를 제시하고 VC 발급을 요청합니다.
- **VC 발급**: 발급기관은 사용자의 신원을 확인한 후, 해당 정보를 담은 VC를 발급하고 자신의 DID로 서명합니다.


### 2. 인증 요청 단계

- **인증 요청**: 서비스 제공자(검증자)가 사용자에게 특정 정보에 대한 인증을 요청합니다.
- **요청 형식**: 일반적으로 OpenID Connect, DIDComm, CHAPI 등의 프로토콜을 통해 요청이 전달됩니다.
- **요청 내용**: 요청에는 필요한 VC 유형, 필요한 클레임, 검증자의 DID 등이 포함됩니다.


### 3. VP 생성 및 제출 단계

- **VC 선택**: 사용자는 자신의 디지털 지갑에서 요청에 맞는 VC를 선택합니다.
- **VP 생성**: 선택한 VC를 포함하는 VP(Verifiable Presentation)를 생성하고 자신의 DID로 서명합니다.
- **VP 제출**: 생성된 VP를 검증자에게 제출합니다.


### 4. 검증 단계

- **서명 검증**: 검증자는 VP와 포함된 VC의 서명을 검증합니다.
- **발급자 확인**: VC를 발급한 발급자의 DID를 확인하여 신뢰할 수 있는 기관인지 확인합니다.
- **클레임 검증**: VC에 포함된 클레임이 요청한 정보를 충족하는지 확인합니다.
- **만료 및 취소 확인**: VC가 만료되었거나 취소되지 않았는지 확인합니다.


### 5. 인증 완료 단계

- **인증 결과 통보**: 검증 결과에 따라 인증 성공 또는 실패를 사용자에게 알립니다.
- **접근 권한 부여**: 인증이 성공적으로 완료되면 요청된 서비스나 리소스에 대한 접근 권한을 부여합니다.

DID와 VC를 사용한 인증 방식은 프라이버시 보호, 데이터 최소화, 사용자 통제 강화 등의 장점을 제공하며, 기존의 중앙화된 인증 시스템의 한계를 극복하는 혁신적인 접근 방식입니다.

